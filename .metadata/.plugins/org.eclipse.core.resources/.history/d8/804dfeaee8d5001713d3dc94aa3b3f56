package lab3;

import java.io.*;

public class PhoneNumberApp {
	
	
	public static void main(String[] args) {
		
		String fileName = "PhoneNumber.dat";
		File file = new File(fileName);
		String phoneNum = null;
		try {
			BufferedReader ph = new BufferedReader(new FileReader(file));
			phoneNum = ph.readLine();
			ph.close();
		}catch(FileNotFoundException e){
			System.out.println("Error: " + file + "file not found");
		}catch(IOException e) {
			System.out.println("Error: Not able to read " + file);
		}
		
		try {
			if(phoneNum.length() != 10) {
				throw new TenDigitsException(phoneNum);
			}
			if(phoneNum.substring(0, 1).equals(0)||phoneNum.substring(0, 1).equals(9)) {
				throw new AreaCodeException(phoneNum);
			}
			System.out.println(phoneNum);
		}catch(TenDigitsException e) {
			
			System.out.println("Error: phone number is more than 10 digits");
		}catch(AreaCodeException e) {
			System.out.println("Error: invalid area code");
		}
		

	}

}

class TenDigitsException extends Exception{
	String num;
	
	TenDigitsException(String num){
		this.num = num;
	}
	
	public String toString() {
		return "Error: More than 10 digits number";
	}
	
}

class AreaCodeException extends Exception{
	String num;
	
	AreaCodeException(String num){
		this.num = num;
	}
	
	public String toString() {
		return "Error: Invalid area code";
	}
}
